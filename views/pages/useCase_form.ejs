<%- include('../partials/topbar'); %>
<div class="container-fluid">
  <div class="row">
    <%- include('../partials/sidebar'); %>
    <div class="col-sm-10 mt-2 mt-md-5 mx-auto d-flex flex-column align-items-center">
      <h1 class="my-3 fs-2 text-center">
        <%= title %> 
      </h1>
      <form method="POST" action="" class="p-3 w-75 border rounded">
        <div class="mb-3">
          <label for="useCaseNameInput" class="mb-1 form-label">Use Case</label>
          <input name="name" type="text" class="form-control" id="useCaseNameInput" required=true
            aria-describedby="nameHelp" value="<%= useCase?.name || '' %>">
          <div id="nameHelp" class="form-text">Think of a use case for some mental model.</div>
        </div>
        <div class="mb-3">
          <label for="useCaseDescriptionInput" class="mb-1 form-label">Use Case Description</label>
          <textarea name="description" type="text" class="form-control" id="useCaseDescriptionInput" required=true
            aria-describedby="descriptionHelp" value="<%= useCase?.description || '' %>"><%= useCase?.description || '' %></textarea>
          <div id="descriptionHelp" class="form-text">Explanation of the use case.</div>
        </div>
        <% if (isUpdating) { %> 
          <div class="mb-3">
            <label for="passwordInput" class="mb-1 form-label">Admin Password</label>
            <input name="password" type="password" class="form-control" id="passwordInput" required=true
              aria-describedby="passwordHelp">
            <div id="passwordHelp" class="form-text">Enter your admin password.</div>
          </div>
        <% } %> 
        <button type="submit" class="btn btn-primary"><%= isUpdating ? "Update Use Case" : "Create Use Case" %></button>
      </form>
      <div class="mt-2">
        <% if (isAdmin) { %>
          <p>Incorrect password.</p>
        <% } %> 
      </div>
      <div>
        <% if (errors) { %>
          <ul>
            <% errors.forEach(function(error) { %>
              <li><%= error %></li>
            <% })%>
          </ul>
          <p>Please, try it again.</p>
        <% }%>
      </div>
    </div>
  </div>
</div>
<%- include('../partials/footer'); %>
